# **********************************************************************************************************
# ----------------------------------------------------------------------------------------------------------
# ----------------------------------------------------------------------------------------------------------
# required librairies // Don't know if Gem is better than librairies in Ruby
# ----------------------------------------------------------------------------------------------------------
# ----------------------------------------------------------------------------------------------------------
require 'json'

# **********************************************************************************************************
# ----------------------------------------------------------------------------------------------------------
# ----------------------------------------------------------------------------------------------------------
# Init of the global var $
# ----------------------------------------------------------------------------------------------------------
# ----------------------------------------------------------------------------------------------------------




# **********************************************************************************************************
# ----------------------------------------------------------------------------------------------------------
# ----------------------------------------------------------------------------------------------------------
# Methods to re-use in to the project
# ----------------------------------------------------------------------------------------------------------
# ----------------------------------------------------------------------------------------------------------
# **********************************************************************************************************





# Simple method to separate the diffrent topics
def separator
	puts "                                                                       "
	puts "***********************************************************************"
	puts "                                                                       "
end





# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
# Tec-Requ-01
# Criteria : The student has successfully output report information to a text file.
#
# ###############################################################################
# Get path to products.json, read the file into a string,
# and transform the string into a usable hash
#
#
# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

def setup_files
    path = File.join(File.dirname(__FILE__), '../data/products.json')
    file = File.read(path)
    $products_hash = JSON.parse(file)
    $report_file = File.new("report.txt", "w+")
end



# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
# Func_Requ_01
# Criteria : The student has printed ASCII Art Headings to the file
#
# ###############################################################################
# Required Specifications :
# The generated report should have headers for
#
# 																					“Sales Report”
# 																					“Products”
# 																					“Brands”
# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

def sales_report_header
	puts " _________      .__                  __________                             __  "
	puts "/   _____/____  |  |   ____   ______ \______   \ ____ ______   ____________/  |_ "
	puts "\_____  \\__  \ |  | _/ __ \ /  ___/  |       _// __ \\____ \ /  _ \_  __ \   __\ "
	puts "/        \/ __ \|  |_\  ___/ \___ \   |    |   \  ___/|  |_> >  <_> )  | \/|  | "
	puts "_______  (____  /____/\___  >____  >  |____|_  /\___  >   __/ \____/|__|   |__|  "
	puts "        \/     \/          \/     \/          \/     \/|__|   "
end

def product_header
	puts "                     _            _       "
	puts "                    | |          | |      "
	puts " _ __  _ __ ___   __| |_   _  ___| |_ ___ "
	puts "| '_ \\| '__/ _ \\ / _` | | | |/ __| __/ __|"
	puts "| |_) | | | (_) | (_| | |_| | (__| |_\\__ \\"
	puts "| .__/|_|  \\___/ \\__,_|\\__,_|\\___|\\__|___/"
	puts "| |                                       "
	puts "|_|                                       "
end

def brands_header
	puts " _                         _     "
	puts "| |                       | |    "
	puts "| |__  _ __ __ _ _ __   __| |___ "
	puts "| '_ \\| '__/ _` | '_ \\ / _` / __|"
	puts "| |_) | | | (_| | | | | (_| \\__ \\"
	puts "|_.__/|_|  \\__,_|_| |_|\\__,_|___/"
	puts
end

# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
# Func_Requ_02
# Criteria : Print today's date
#
# ###############################################################################
# Required Specifications :
# The generated report should have the current date at the top of the report
#
#
#
#
# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

def report_date
	puts "Date of report : #{Time.now}"
end




# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
# Print heading method is as report header
#
#
# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

def print_heading
	report_date
	sales_report_header
end


# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
# Print date is used to fill the report information
#
#
# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

def print_data

end


# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
#  create_report method is used to generate the file
#
#
# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

def create_report
	setup_files
	print_heading
	print_data
end


# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
# Main method executed into the main programm in order to generate the report
#
#
# $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

def start
	separator
	puts "The sales report is generating please wait for the end of execution"
	separator
	create_report
	separator
	puts "The sales report has been generated sucessfully"
end


# **********************************************************************************************************
# ----------------------------------------------------------------------------------------------------------
# ----------------------------------------------------------------------------------------------------------
# 																							Main programm
# ----------------------------------------------------------------------------------------------------------
# ----------------------------------------------------------------------------------------------------------
# **********************************************************************************************************

start



# //////////////////////////////////////////////////////////////////////////////////////////////////////////
# //////////////////////////////////////////////////////////////////////////////////////////////////////////
# //////////////////////////////////////////////////////////////////////////////////////////////////////////
# 																								End of file
# //////////////////////////////////////////////////////////////////////////////////////////////////////////
# //////////////////////////////////////////////////////////////////////////////////////////////////////////
# //////////////////////////////////////////////////////////////////////////////////////////////////////////



























# For each product in the data set:
	# Print the name of the toy
	# Print the retail price of the toy
	# Calculate and print the total number of purchases
	# Calculate and print the total amount of sales
	# Calculate and print the average price the toy sold for
	# Calculate and print the average discount (% or $) based off the average sales price




# For each brand in the data set:
	# Print the name of the brand
	# Count and print the number of the brand's toys we stock
	# Calculate and print the average price of the brand's toys
	# Calculate and print the total sales volume of all the brand's toys combined
